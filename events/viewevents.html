<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>View Approved Events</title>
  <link rel="stylesheet" href="poststyle.css">
</head>
<body>
  <h1 id="main">View Approved Alumni Events</h1>
  <hr>
  <section>
    <main id="events-container" class="event-section">
      <p>Loading events...</p>
    </main>
  </section>

  <script>
    fetch('/api/events?status=approved')
      .then(res => res.json())
      .then(events => {
        const container = document.getElementById('events-container');
        container.innerHTML = '';
        if (!events.length) {
          container.innerHTML = "<p>No approved events available.</p>";
          return;
        }

        events.forEach(event => {
          const card = document.createElement('div');
          card.classList.add('event-card');
          card.innerHTML = `
            <div class="basics">
              <h2>${event.title}</h2>
              <p><strong>Date & Time:</strong> ${event.date}</p>
              <p><strong>Location:</strong> ${event.location}</p>
              <p><strong>Deadline:</strong> ${event.deadline}</p>
            </div>
            <div class="description">
              <p><strong>Description:</strong> ${event.description}</p>
            </div>
            <div class="logistics">
              <p><strong>Max Attendees:</strong> ${event.maxAttendees}</p>
              <p><strong>Cost:</strong> ${event.cost}</p>
            </div>
            <div>
              <a href="register.html?eventId=${event.id}">
                <button>Register</button>
              </a>
            </div>
            <hr>
          `;
          container.appendChild(card);
        });
      });
  </script>
</body>
</html>